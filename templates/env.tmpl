{{ .Header }}

package {{ .Package }}

{{ if or (gt (len .Deny) 0) (gt (len .Allow) 0) -}}
import (
	"fmt"
	"os"
)

{{ .Doc }}
func {{ .Name }}() (string, error) {
	v := os.Getenv({{ printf "%q" .Key }})

	{{- if gt (len .Deny) 0 }}
	{{ template "deny" . }}
	{{- end }}

	{{- if gt (len .Allow) 0 }}
	{{ template "allow" . }}
	{{- else }}
	return v, nil
	{{- end }}

{{- else -}}
import "os"

{{ .Doc }}
func {{ .Name }}() string {
	return os.Getenv({{ printf "%q" .Key }})
{{- end }}
}
